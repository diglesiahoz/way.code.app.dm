solr:
  container_name: ${APPSETTING_SERVICE_SOLR_HOST}
  hostname: ${APPSETTING_SERVICE_SOLR_HOST}
  build:
    context: .
    dockerfile: ./templates/dockerfile/solr
    args:
      APPSETTING_SERVICE_SOLR_BASE_IMAGE: ${APPSETTING_SERVICE_SOLR_BASE_IMAGE}
  mem_limit: 1g
  mem_reservation: 512m
  memswap_limit: 1g
  environment:
    SOLR_JAVA_MEM: "-Xms512m -Xmx768m" # ðŸ”¥ JVM Limits
  volumes:
    - solr_data:/var/solr
  command:
    - solr-precreate
    - ${APPSETTING_SERVICE_SOLR_HOST}
  ports: [ "8983:8983" ]